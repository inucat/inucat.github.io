---
layout: post
# quote required
title: "WIP: enPiTでのチーム開発経験を語りたい"
# description:
# yyyy-mm-dd hh:mm
created_date: 2025-01-31 00:45
# category
tags: [enpit, development, agile, teamwork]
---

<img src="https://raw.githubusercontent.com/enpit-super-koyomi/super-koyomi/refs/heads/main/public/SUPER_center_.png" alt="Super Koyomi Logo" width="200">

# WIP: enPiT でのチーム開発経験を語りたい

- ベータ版公開: 2025-01-31 00:45
  <!-- - 初版公開: 2025-01-xx xx:xx -->
  <!-- - 最終更新: 2025-01-xx xx:xx : #更新コメント-->

この度 enPiT という教育プログラムに参加して、チーム「[スーパーこよみ ➚][team-super-koyomi]」の一員としてチーム開発の中でアジャイル開発を経験する機会に恵まれました。
そこで本記事では、enPiT での成果物を紹介するとともに、そこで得られた知見を共有します。

次の読者を対象にしています。

- enPiT 関係者
- 今後 enPiT を受講してみたい人
- 記事中の技術に関心がある人
- 素人がチーム開発・アジャイル開発を経験するとどうなるか見てみたい人

「楽しい」チーム開発を純粋に体験できる、ということが伝われば幸いです。

※専門的な用語が頻出するため、[用語集](#用語集)を設けました。
必要なときに読み返してください。

[team-super-koyomi]: https://github.com/enpit-super-koyomi

---

**目次**

- [WIP: enPiT でのチーム開発経験を語りたい](#wip-enpit-でのチーム開発経験を語りたい)
  - [enPiT](#enpit)
    - [enPiT の進み方](#enpit-の進み方)
    - [アジャイル開発](#アジャイル開発)
    - [チーム開発](#チーム開発)
  - [開発成果物 - スーパーこよみ ](#開発成果物---スーパーこよみ-)
    - [特長](#特長)
    - [操作手順](#操作手順)
    - [背景](#背景)
    - [今後の予定](#今後の予定)
  - [開発チーム - スーパーこよみ ](#開発チーム---スーパーこよみ-)
    - [メンバー](#メンバー)
    - [筆者の主な貢献部分](#筆者の主な貢献部分)
    - [チームの軌跡](#チームの軌跡)
      - [夏: 方針決定、開発環境整備](#夏-方針決定開発環境整備)
      - [1st Sprint: 価値検証のための機能実装](#1st-sprint-価値検証のための機能実装)
      - [2nd Sprint: 「インクリメンタル」の意識醸成](#2nd-sprint-インクリメンタルの意識醸成)
      - [3rd Sprint: 対象ユーザの需要を検討した結果の、時間割データの活用](#3rd-sprint-対象ユーザの需要を検討した結果の時間割データの活用)
      - [4th Sprint: データベースを駆使した、状態の永続化への挑戦](#4th-sprint-データベースを駆使した状態の永続化への挑戦)
    - [チーム開発の良し悪し](#チーム開発の良し悪し)
  - [得られた知見 - 技術的要素 ](#得られた知見---技術的要素-)
    - [Docker - コンテナ技術](#docker---コンテナ技術)
    - [React と Next.js](#react-と-nextjs)
    - [Vercel - CI/CD](#vercel---cicd)
    - [PostgreSQL と Prisma ORM - データベース](#postgresql-と-prisma-orm---データベース)
    - [Git と GitHub - バージョン管理システム](#git-と-github---バージョン管理システム)
  - [得られた知見 - 精神的要素](#得られた知見---精神的要素)
    - [ソフトウェアアーキテクチャ](#ソフトウェアアーキテクチャ)
    - [デイリースクラム](#デイリースクラム)
    - [アジャイルの哲学](#アジャイルの哲学)
    - [生成 AI の利用に対する所感](#生成-ai-の利用に対する所感)
    - [意思決定の理由を残すこと](#意思決定の理由を残すこと)
    - [なぜアジャイル開発なのか](#なぜアジャイル開発なのか)
  - [チーム AMF](#チーム-amf)
  - [まとめ](#まとめ)
  - [用語集](#用語集)

---

## enPiT

enPiT とは、[公式アーカイブサイト][enpit]によると「成長分野を支える情報技術人材の育成拠点の形成」を指す言葉です。
文科省が推進してきた過去があり、現在は各大学と各分野の企業とが自主協力して教育プログラムを組んでいます。

[enpit]: https://enpit.jp/

### enPiT の進み方

開発では、まず開発によって解決したい課題を明らかにすることが必要です。
参加したプログラムでは、各自の「**身近な困りごと**」を持ち寄ることから始まりました。
それらの困りごとは全員に共有され、同じ困りごとに共感し合った人同士で開発チームが生まれました。
協力企業の方々から、アジャイルでの考え方、チームでの共同作業のやり方などを教わり、それらを参考にチーム「スーパーこよみ」での活動が始まりました。

### アジャイル開発

アジャイル開発とは、というと千差万別の回答がありえますが、概ねソフトウェア開発手法の 1 つと見なせます。
多くは[アジャイルソフトウェア開発宣言][agile-manifesto]（またの名をアジャイルマニフェスト）に掲げられた哲学に則っており、開発の場での**対話、動く成果物、顧客との協調、変化への柔軟性**に重点を置きます。
より良いソフトウェア開発手法を志向するエンジニアたちによって推進・実践されています。

筆者は今まで開発手法を学んだり、特定の手法に則って開発したりした経験がありません。
手法を導入することで開発過程がどう洗練されるのか、流行りの方法論はどれくらい役立つのかを関心事として参加してきました。

[agile-manifesto]: https://agilemanifesto.org/

### チーム開発

筆者個人では、拙いながらも趣味でいくつかのソフトウェアを[開発してきました][my-prod]。
しかし、実社会では個人ですべて作り上げることよりも、納期や価値向上 ~~に追われて~~ を追って責任分担したり、チームメンバや利害関係者と ~~諍ったり~~ 協調したりして開発することが一般的になります。
社会に適合したエンジニアになるという打算的な思考でも、チーム開発を経験する価値は理解できます。
しかしさらに、集団の一員として、メンバと協力して 1 つのモノを作り上げるのはきっと楽しいと思ったわけです。
特に、極端な利害が発生しない間柄ならば、臆することなく失敗を積み重ねられるのが特長に映りました。

<!-- 共同開発では、

- Git のバージョン管理
- 習得が比較的容易で、使用経験者も多かった TypeScript の採用
- 自主学習教材として提示された React と Next.js とを併用した Web アプリケーション開発 -->

[my-prod]: /about

## 開発成果物 - スーパーこよみ <!-- 開発プロダクト -->

チーム「スーパーこよみ」の開発成果物は、日程調整アプリケーション「[スーパーこよみ][super-koyomi-app]」です。

| [<img src="https://raw.githubusercontent.com/enpit-super-koyomi/super-koyomi/refs/heads/main/public/SUPER_center_.png" alt="Super Koyomi Logo" width="200">][super-koyomi-app] |
| :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| スーパーこよみのロゴ                                                                                                                                                           |

[super-koyomi-app]: https://superkoyomi.org/

### 特長

- 迅速な日程調整・迅速な意思決定の支援
  - ゼロからの調整連絡に費やす時間を減らし、相互に共通する空き時間候補に基づいた素早い合意を促す
- Google カレンダーとの連携
  - [15 億以上][gmail-tweet]（2018 年時点）のアカウントを対象に、連携したサービスを提供する
- 主催者による数回の操作だけで完了
  - 空き時間はスーパーこよみが自動で算出するので、被招待者はもちろん主催者の負担も大きく軽減する
- プライバシ保護
  - 共通空き時間の計算のために利用するカレンダー情報は予定の開始・終了時刻のみで、予定の詳細は誰にも（我々開発者にも）知られない
  <!-- - ここはオープンソースなので確かめようがある -->
- 時間割の反映

[gmail-tweet]: https://x.com/gmail/status/1055806807174725633

### 操作手順

1. ページ上部のボタンを押して Google アカウントへサインインする
2. 日程調整ページへ飛び、次の事項を設定する
   <!-- - 予定の表題 -->
   - 確保したい時間の長さ
   - 確保されたくない時間帯
   - 参加予定者
3. 「候補を探す」ボタンで、全員共通する日時を表示する
4. 表示された候補を選択して、カレンダーへ予定を追加する
   - 招待相手にはイベント招待のメールが飛ぶ。相手が許可している場合は、相手のカレンダーへ自動で追加される

### 背景

授業、バイト、サークル、論文執筆、就活など、学生生活もなかなか忙しいわけです。
様々な予定を管理するとなると、脳内カレンダーではたちまちオーバーフローしてしまうので、やがて人はカレンダーアプリを使って事細かに予定管理をし始めます。
そんな中、仕事の面談や友人との会食などの突発イベントのために、空き時間を確保しなければならない事態が起きます。
すると人は自分のカレンダーをつぶさに確認して、共通する空き時間を見つけるために相手と何通ものメッセージをやり取りすることになります。痺れを切らして既存の日程調整ツールの使用に打って出ても、候補日時の入力が億劫になったり、入力しない人間を急かす努力が必要だったりします。

そんなわけで、忙しい日々での日程調整は各種リソースを削ってくる嫌な作業なのです。
共通の空き時間が素早く自動で判明すれば、諸人幸せになれると信じてこのプロダクトが生まれました。

### 今後の予定

- [ ] 使い方やプライバシーポリシーなどの情報提供の拡充およびアクセス性向上
  - [x] 実はプライバシーポリシーは[ここ][privacy-policy]で閲覧できるが、こんなの誰も知る由もない
  - [ ] アプリ内にリンクを設置する
- [ ] Google カレンダー以外の利用者への対応
  - [ ] iCalendar ファイルを受け付けて、任意のカレンダー情報を利用できるようにする
- [ ] フレンド機能 -- 招待相手を知人に限定する -- の公開
  - [ ] テスト中
- [ ] 時間割機能を拡張可能とし、各組織の時間割形式との変換を噛ませてグローバルな機能とする
- [ ] UI の修正（永遠に終わらないタスクの書き方）

[privacy-policy]: https://scrapbox.io/superkoyomi/%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC

## 開発チーム - スーパーこよみ <!-- チームについて --><!-- プロダクト・チームの軌跡 -->

チーム「スーパーこよみ」の紹介です。

### メンバー

いずれも GitHub のアカウント名を表示しています。紹介文は筆者の独断です。A to Z で。

- @Amulnesia - ロゴデザイナ。DNS とセキュリティに明るい頼れる知識人。
- @HosokawaR - Docker、Vercel、Google 連携などの開発の根幹を整備した賢者。
- @inucat - 犬と猫のキマイラ（になりたい）。🐶😺
- @Komatsunabok - 書記長。日々の開発の振り返りをきれいにまとめ上げる賢人。
- @nagu724 - 挑戦者。日々新しいことをためらわず果敢に取り組む勇者。
- @uxiun - ~~残業担当~~ UI、データベース担当。開発段階が進むほどエネルギッシュに活動する超人。

### 筆者の主な貢献部分

- 共通空き時間の算出アルゴリズムの設計・実装・テスト作成
  - 既存の手法であるはずだが、勉強不足なので名前がわからないアルゴリズム
  - 数学的で単純なので、テストコードが書きやすかったのが幸い
- コード整形ツールの導入と CI/CD への組み込み
- イシュー・PR の雛形作成
- Git の使い方の示し合わせ

| [<img alt="Koyomi algorithm core" src="/assets/koyomi-core.png" width="400"/>][algo-core] |
| :---------------------------------------------------------------------------------------- |
| 図．日程調整を数学的モデル（大げさ）に落とし込む様子                                      |

| [<img alt="Koyomi algorithm graph" src="/assets/koyomi-algo-graph.png"  width="400"/>][algo-graph] |
| :------------------------------------------------------------------------------------------------- |
| 図．全員の予定の開始／終了時刻で変化する忙しい人の数を追跡する                                     |

[algo-core]: /assets/koyomi-core.png
[algo-graph]: /assets/koyomi-algo-graph.png

### チームの軌跡

#### 夏: 方針決定、開発環境整備

- @HosokawaR が Docker compose ファイルを作り、Vercel へのデプロイを済ませ、Prisma ORM の整備を行うなど、インフラ整備をした。
- @Amulnesia らがロゴを描いて UI を整え、ユーザ体験の入口を整備した。
- ほかメンバも指をくわえるだけでなく、Git、GitHub、Docker、TypeScript の使い方を学習するなどして、秋の開発本番に備えた。
- iCalendar 形式を扱う方針だったので、[RFC 5545][rfc5545-ical] を読んで学習した。

[rfc5545-ical]: https://datatracker.ietf.org/doc/html/rfc5545

#### 1st Sprint: 価値検証のための機能実装

- 当初掲げた「完全なる自動化・零コスト日程調整」の目標のもと、次のような価値の取捨選択のために、モックをたくさん作った。
  - オプションの設定項目を与える or 何もオプションを提供しない
  - 見つかった時間で確定させて、即座にカレンダーへ追加する or 見つかった時間を提示して、利用者に選ばせる
  - など
- [Google アカウントとの連携手段][google-account-api]と、相手の予定を取得する [Calendar API][google-calendar-api] について実験を繰り返した。
- 空き時間算出アルゴリズムを実装した。

[google-account-api]: https://developers.google.com/identity/sign-in/web/sign-in
[google-calendar-api]: https://developers.google.com/calendar/api/guides/overview

#### 2nd Sprint: 「インクリメンタル」の意識醸成

- 機能ごとに独立したモックばかり作って、核心の「相手との日程調整が実際に行える」ことの実装を怠っていた。
- その状態をチームで認識して、まずは小さな核心機能から増分を作っていこう、と方針を確定した。
- この頃から、視聴者参加型レビューへのあこがれが芽生えた。
  - まだ開発チームだけがアカウント連携できる状態だったので、実体験を提供しにくかった。
- 結果、除外時間帯や、日時候補のカレンダー表示など、現在の形に近いプロダクトへ進化させられた。

#### 3rd Sprint: 対象ユーザの需要を検討した結果の、時間割データの活用

#### 4th Sprint: データベースを駆使した、状態の永続化への挑戦

### チーム開発の良し悪し

- 知識の共有によって成長する
- なにより「楽しい」
- 役に立っているという実感
- 共有の仕方、意思疎通の難しさ
  - miro はアカン
  - 現地で現物のホワイトボード使う＋協調 Wiki が最強
- 実装力に偏りがあるゆえの問題
  - 折角の機会なので、知らない人にこそあれこれ試してもらいたかったという説はある
  - アジャイルではそもそも全員同等の能力があることを前提とする？
- 話し合いをまとめて、物事を推進する力
- 技術大臣に仕事が集中する

## 得られた知見 - 技術的要素 <!-- 期間を通じた個人的振り返り -->

### Docker - コンテナ技術

「アプリケーション実行環境の箱詰め」

サーバや依存ライブラリなどの実行環境が丸々箱詰めされているので、誰の PC 上でも即座に試験ができて助かりました。
Docker Compose を使うと複数コンテナの連携も簡単なので、Web サーバとデータベースサーバとで別々のコンテナが必要な今回の事例でも非常に便利でした。
思ったよりも手軽かつ軽量だったので、Docker アンチから Docker 推進派に鞍替えしました。

個人的には、本プロダクトとは無縁ですが、ファイルシステムをバインドマウントさせて ARM 用にクロスコンパイルするのに有用そうな点が気に入りました。

<!-- > (1) macOS、Windows 版の Docker は Docker Desktop が VM を動かしているので、その分のリソースが実は消費されている。 -->

### React と Next.js

現代的な Web アプリケーション開発。

### Vercel - CI/CD

アプリケーションの公開、いわゆる**デプロイ（deploy）**のためのサービス。

### PostgreSQL と Prisma ORM - データベース

アカウント認証情報、セッション情報の保存。
関係データベースでのデータ構造と TypeScript プログラムでのオブジェクト表現との対応づけ。

### Git と GitHub - バージョン管理システム

ブランチを切る。
意味のあるコミットメッセージ、プルリクエストコメントの書き方。

## 得られた知見 - 精神的要素

### ソフトウェアアーキテクチャ

enPiT と直接関係はしませんが、MVC モデルというソフトウェア設計手法を知る機会になりました。
というのも、

### デイリースクラム

毎日やることを考え、利用者への価値を作り出すという意識。

### アジャイルの哲学

- インクリメンタル
- それでも文書は大切だ

### 生成 AI の利用に対する所感

AI が強すぎます。

- AI つおい。
- 人間いらないのでは？
- 来る AI 時代に我々は何をするんですか？

### 意思決定の理由を残すこと

- 「柵を設置した理由がわかるまで、柵を取り壊してはならない」
- 理由がわからないと、現状の変更もままならない
  - 気づかずに後戻りする可能性すらある
  - 根拠・確信を持って人に説明できない
- 残すと、これらの問題に対処できる
- さらに、自分たちの方法論が蓄積するので、振り返りの際も役立つ

### なぜアジャイル開発なのか

- 変化への柔軟性
- ソフトウェアならではの「要求の広さ」「ニッチさ」

## チーム AMF

これは何？

## まとめ

めでたし

## 用語集

本記事で用いる、あるいは関連する用語で、特に注釈が必要だと筆者が判断したものを列挙しています。
なお注釈は語義の正確さよりも筆者個人の解釈が強く含まれています。

- 参考資料
  - [Agile Glossary and Terminology - Agile Alliance][agile-glossary]

[agile-glossary]: https://www.agilealliance.org/agile101/agile-glossary/

---

- ChatGPT - 生成 AI の 1 つ。OpenAI により提供される。
- CI/CD, Continuous integration and Continuous deployment - 「コードの品質を高い状態に保つこと」と、「動くソフトウェアだけがデプロイされる状態を保つこと」の 2 点をコンピュータで自動化して、開発効率を向上する取り組み。
- Docker - コンテナ技術。Linux のプロセス隔離の技術を巧みに利用して使いやすく提供することで不動の人気を獲得した。
- enPiT - 文部科学省が推進した情報技術人材の育成のための取り組み。現在は各大学・企業が自主的に協力して教育プログラムを提供している。
- Git - 超人 Linus Torvalds により開発されたバージョン管理システム。
- GitHub - Git のリモートリポジトリを提供し、その管理用 Web インタフェースを提供するサービス。歴史的にオープンソース製品での利用が多かったため、今でも関連サービスの中では代表的存在である。
- React - Web アプリケーション開発のフレームワーク。
- Miro - だめ。
- Next.js - Web アプリケーション開発のフレームワーク?
- v0 - 生成 AI の 1 つ。Vercel により提供される。
- Vercel - デプロイ先
- Tailwind CSS - Web アプリケーション開発のフレームワーク?
- アジャイル開発 - ソフトウェア開発手法の 1 つ。既存の手法に対して「対話・顧客との協調・動く成果物・変化への柔軟性」などへより重きをおいている。特に対話を通じて手法自体を点検して、チームにとって最善の手法を追求することで継続的に価値を提供できることを目標とする。
- スーパーこよみ - 筆者が属する enPiT 参加チームの名前。同時に、我々が制作した日程調整支援アプリケーションの名前でもある。
- 生成 AI - NovelAI
- ソフトウェアアーキテクチャ
- データベース - 本記事では特に関係データベースを指すものとする。
- デイリースクラム - ひびの開発
- プロダクトバックログ - つみかさね
- スプリント - 1 つの価値創造を達成するまでの開発期間の最小単位
- リリースノート - ソフトウェアの新バージョン公開ごとに変更点をユーザに示す文書。「軽微な修正」やら「ユーザの操作体験向上」やら
- ORM, Object-Relation Mapping - データベースとプログラミング言語の両者での異なるデータ表現を対応させる技術。
